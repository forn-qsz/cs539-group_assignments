beam = [(0, NLM())]
b = n
for char in sentence:
    new beam = []
    for score, state in bean:

        calculate new score and new state
        new beam append new score and new state

        calculate new score and new state with space
        add new score and new state to new beam

    beam = sort new beam[:b]


beam = [(0, NLM())]
b = n
for char in sentence:
    newbeam = []
    prev = [beam]
    for MAX_REPEAT: //the repeat of vowel
        tmp = []
        for score, state in beam:
            calculate new score and new state
            new beam append new score and new state
            for all vowels: //'a', 'e', 'i', 'o', 'u'
                calculate new score and new state with space
                new score and new state to tmp
        add tmp to prev
    beam = sort new beam[:b]
